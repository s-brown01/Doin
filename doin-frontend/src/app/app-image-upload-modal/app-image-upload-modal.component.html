<button (click)="openModal()" class="open-modal-btn">
    {{titile}}
  </button>

  <div *ngIf="isModalOpen" class="modal-overlay">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>Upload Image</h2>
        <button class="close-btn" (click)="closeModal()">√ó</button>
      </div>
      
      <div class="modal-body">
        <input 
          type="file" 
          #fileInput
          (change)="onFileSelected($event)"
          accept="image/*"
          [style.display]="'none'"
        >
        
        <div class="upload-area" (click)="fileInput.click()">
          <div *ngIf="!selectedFile" class="upload-placeholder">
            <i class="upload-icon">üìÅ</i>
            <p>Click to select an image</p>
          </div>
          
          <div *ngIf="selectedFile" class="file-info">
            <p>Selected: {{ selectedFile.name }}</p>
            <img 
              *ngIf="previewUrl" 
              [src]="previewUrl" 
              class="image-preview" 
              alt="Preview"
            >
          </div>
        </div>

        <div *ngIf="uploadProgress > 0" class="progress-container">
          <div class="progress-bar">
            <div 
              class="progress-fill" 
              [style.width.%]="uploadProgress"
            ></div>
          </div>
          <span>{{ uploadProgress }}%</span>
        </div>

        <div *ngIf="uploadMessage" 
             [class]="uploadSuccess ? 'success-message' : 'error-message'">
          {{ uploadMessage }}
        </div>
      </div>

      <div class="modal-footer">
        <button 
          class="cancel-btn" 
          (click)="closeModal()"
          [disabled]="uploading"
        >
          Cancel
        </button>
        <button 
          class="upload-btn" 
          (click)="uploadFile()"
          [disabled]="!selectedFile || uploading"
        >
          {{ uploading ? 'Uploading...' : 'Upload' }}
        </button>
      </div>
    </div>
  </div>